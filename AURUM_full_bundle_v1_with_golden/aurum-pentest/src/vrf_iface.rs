use crate::hash::{blake3_ds, DsError};

pub fn vrf_leader_input(epoch: u64, slot: u64, prev_rand: [u8;32], proposer_pk: &[u8]) -> Result<[u8;32], DsError> {
    let mut v = Vec::with_capacity(8+8+32+4+proposer_pk.len());
    v.extend_from_slice(&epoch.to_be_bytes()); v.extend_from_slice(&slot.to_be_bytes()); v.extend_from_slice(&prev_rand);
    v.extend_from_slice(&(proposer_pk.len() as u32).to_be_bytes()); v.extend_from_slice(proposer_pk);
    blake3_ds("AURUM/VRFInput/v1", &v)
}
